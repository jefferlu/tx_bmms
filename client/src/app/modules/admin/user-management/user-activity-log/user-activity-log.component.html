<div class="absolute inset-0 flex min-w-0 flex-col overflow-hidden h-full" *transloco="let t">
    <div class="mx-auto flex w-full h-full flex-wrap p-6">
        <div class="flex flex-auto flex-col h-full sm:col-span-2 lg:col-span-3">
            
            <!-- Header -->
            <div class="flex flex-row items-center justify-between pt-6 pb-2">
                <!-- Title -->
                <div class="text-3xl font-extrabold leading-none tracking-tight">
                    {{t('user-activity-log')}}
                </div>

                <!-- Search -->
                <div class="flex items-center justify-between sm:mr-10">
                    <div class="flex flex-col">
                        <mat-form-field class="w-full sm:w-72 mt-2 sm:mt-0 gts-mat-dense">
                            <input matInput [placeholder]="t('search')" [(ngModel)]="searchBinName" />

                            <button mat-icon-button matSuffix (click)="onSearch()">
                                <mat-icon class="icon-size-5" [svgIcon]="'heroicons_outline:magnifying-glass'"></mat-icon>
                            </button>
                        </mat-form-field>
                    </div>
                </div>

            </div>

            <!-- Content -->
            <div class="flex h-full overflow-y-auto bg-card rounded-md">
                @if(data){
                <p-table class="w-full" [value]="data" [scrollable]="true" scrollHeight="flex" [styleClass]="'p-datatable-lg'" selectionMode="single"
                    [metaKeySelection]="true" (onRowSelect)="onOpenDrawer($event)">
                    <ng-template pTemplate="header">
                        <tr>
                            <th class="pl-8 py-4">{{t('account')}}</th>
                            <th class="min-w-30">{{t('name')}}</th>
                            <th class="min-w-30">{{t('function-name')}}</th>
                            <th>{{t('action')}}</th>
                            <th>{{t('status')}}</th>
                            <th>{{t('timestamp')}}</th>
                            <th>{{t('ip-address')}}</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-d>
                        <tr [pSelectableRow]="d" class="hover:bg-hover">
                            <td class="pl-8">{{ d.email }}</td>
                            <td>{{ d.username }}</td>
                            <td>{{ d.function }}</td>
                            <td>{{ d.action }}</td>
                            <td>{{ d.status }}</td>
                            <td>{{ d.timestamp | date: 'yyyy/MM/dd HH:mm:ss' }}</td>
                            <td>{{ d.ip_address}}</td>
                        </tr>
                    </ng-template>
                </p-table>
                }
                @else {
                <div class="flex flex-auto flex-col items-center justify-center text-secondary mb-10">
                    <mat-icon class="icon-size-16" [svgIcon]="'heroicons_outline:exclamation-circle'"></mat-icon>
                    <div class="mt-4 text-xl font-semibold tracking-tight">
                        {{t('no-data-found')}}
                    </div>
                </div>
                }
            </div>
        </div>
    </div>
</div>