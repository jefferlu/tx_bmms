<div class="w-full max-w-3xl">
    <!-- Form -->
    <form [formGroup]="backupRestoreForm">
        <!-- Section -->
        <div class="w-full">
            <div class="text-xl">執行資料庫操作</div>
            <div class="text-secondary">
                系統管理員資料庫備份及還原作業
            </div>
        </div>
        <div class="mt-8 grid w-full gap-6 sm:grid-cols-2">
            <!-- Plan -->
            <div class="sm:col-span-3">
                <fuse-alert [appearance]="'outline'" [type]="'info'">
                    請注意資料庫還原操作風險，並通知相關操作人員即將進行的資料庫還原作業
                </fuse-alert>
            </div>
            <mat-radio-group
                class="pointer-events-none invisible absolute h-0 w-0"
                [formControlName]="'plan'"
                #planRadioGroup="matRadioGroup"
            >
                @for (plan of plans; track trackByFn($index, plan)) {
                    <mat-radio-button [value]="plan.value"></mat-radio-button>
                }
            </mat-radio-group>
            @for (plan of plans; track trackByFn($index, plan)) {
                <div
                    class="bg-card relative flex cursor-pointer flex-col items-start justify-start rounded-md p-6 shadow"
                    [ngClass]="{
                        'ring ring-inset ring-primary':
                            planRadioGroup.value === plan.value,
                    }"
                    (click)="planRadioGroup.value = plan.value"
                >
                    @if (planRadioGroup.value === plan.value) {
                        <!-- <mat-icon
                            class="absolute right-0 top-0 mr-3 mt-3 text-primary icon-size-7"
                            [svgIcon]="'heroicons_solid:circle-stack'"
                        ></mat-icon> -->
                        <div [ngSwitch]="plan.value">
                            <mat-icon *ngSwitchCase="'backup'" class="absolute right-0 top-0 mr-3 mt-3 text-primary icon-size-7" [svgIcon]="'heroicons_solid:circle-stack'"></mat-icon>
                            <mat-icon *ngSwitchCase="'restore'" class="absolute right-0 top-0 mr-3 mt-3 text-primary icon-size-7" [svgIcon]="'heroicons_solid:arrow-path'"></mat-icon>
                        </div>
                    }
                    <div class="font-semibold">{{ plan.label }}</div>
                    <div class="text-secondary mt-1 whitespace-normal">
                        {{ plan.details }}
                    </div>
                    <div class="flex-auto"></div>
                    <div class="mt-8 text-lg">
                        <span> {{
                            plan.price
                        }}</span> 
                        <span class="text-secondary"></span>
                    </div>
                </div>
            }
        </div>

        <!-- Divider -->
        <div class="mb-10 mt-12 border-t"></div>

        <!-- Actions -->
        <div class="flex items-center justify-end">
            <!-- <button mat-stroked-button type="button">取消作業</button> -->
            <button
                class="ml-4"
                mat-flat-button
                type="button"
                [color]="'primary'"
            >
                開始執行
            </button>
        </div>
    </form>
</div>
